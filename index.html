<!DOCTYPE html>
<html lang="lo">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡ªÄ‡∫Ñ‡∫∑‡ªà‡∫≠‡∫á‡∫°‡∫∑‡∫ß‡∫¥‡ªÄ‡∫Ñ‡∫≤‡∫∞‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫Å‡∫≤‡∫ô‡∫™‡∫∞‡ªù‡∫±‡∫Å‡∫ö‡ªç‡∫•‡∫¥‡∫Å‡∫≤‡∫ô</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans Lao', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .content {
            padding: 30px;
        }

        .input-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border: 2px solid #e9ecef;
        }

        .input-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
        }

        .input-group label {
            font-weight: bold;
            margin-bottom: 8px;
            color: #495057;
            font-size: 1.1rem;
        }

        .input-group textarea {
            padding: 15px;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            font-size: 14px;
            font-family: 'Courier New', monospace;
            resize: vertical;
            min-height: 200px;
            transition: border-color 0.3s ease;
        }

        .input-group textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .analyze-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .analyze-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .analyze-btn:active {
            transform: translateY(0);
        }

        .results-section {
            background: #fff;
            border-radius: 15px;
            border: 2px solid #e9ecef;
            overflow: hidden;
        }

        .results-header {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }

        .results-header h2 {
            font-size: 1.8rem;
            margin-bottom: 5px;
        }

        .table-container {
            overflow-x: auto;
            max-height: 600px;
            overflow-y: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }

        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #dee2e6;
        }

        th {
            background: #f8f9fa;
            font-weight: bold;
            color: #495057;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        tr:hover {
            background-color: #f8f9fa;
        }

        .found {
            background-color: #d4edda !important;
            color: #155724;
        }

        .not-found {
            background-color: #f8d7da !important;
            color: #721c24;
        }

        .found-other-date {
            background-color: #fff3cd !important;
            color: #856404;
        }

        .status-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
        }

        .badge-found {
            background-color: #28a745;
            color: white;
        }

        .badge-not-found {
            background-color: #dc3545;
            color: white;
        }

        .badge-other-date {
            background-color: #ffc107;
            color: #212529;
        }

        .summary {
            padding: 20px;
            background: #f8f9fa;
            border-top: 2px solid #e9ecef;
        }

        .summary-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .stat-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 2px solid #e9ecef;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #667eea;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #6c757d;
            margin-top: 5px;
        }

        @media (max-width: 768px) {
            .input-row {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîç ‡ªÄ‡∫Ñ‡∫∑‡ªà‡∫≠‡∫á‡∫°‡∫∑‡∫ß‡∫¥‡ªÄ‡∫Ñ‡∫≤‡∫∞‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫Å‡∫≤‡∫ô‡∫™‡∫∞‡ªù‡∫±‡∫Å‡∫ö‡ªç‡∫•‡∫¥‡∫Å‡∫≤‡∫ô</h1>
            <p>‡∫Å‡∫ß‡∫î‡∫™‡∫≠‡∫ö‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫Å‡∫≤‡∫ô‡∫™‡∫∞‡ªù‡∫±‡∫Å‡ªÅ‡∫û‡∫±‡∫Å‡ªÄ‡∫Å‡∫±‡∫î‡∫Ç‡∫≠‡∫á‡ªù‡∫≤‡∫ç‡ªÄ‡∫•‡∫Å‡ªÇ‡∫ó‡∫•‡∫∞‡∫™‡∫±‡∫ö ‡ªÅ‡∫•‡∫∞ ‡∫ß‡∫±‡∫ô‡∫ó‡∫µ‡∫ó‡∫µ‡ªà‡∫Å‡∫≥‡∫ô‡∫ª‡∫î</p>
        </div>

        <div class="content">
            <div class="input-section">
                <div class="input-row">
                    <div class="input-group">
                        <label for="subscriptionData">üìä ‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫•‡∫≤‡∫ç‡∫Å‡∫≤‡∫ô‡∫™‡∫∞‡ªù‡∫±‡∫Å‡ªÅ‡∫û‡∫±‡∫Å‡ªÄ‡∫Å‡∫±‡∫î:</label>
                        <textarea id="subscriptionData" placeholder="‡ªÉ‡∫™‡ªà‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫Å‡∫≤‡∫ô‡∫™‡∫∞‡ªù‡∫±‡∫Å‡∫ó‡∫±‡∫á‡ªù‡∫ª‡∫î (adate, time, kip, pk_name, chanel)..."></textarea>
                    </div>
                    <div class="input-group">
                        <label for="checkData">üîç ‡ªÄ‡∫ö‡∫µ‡ªÇ‡∫ó‡∫•‡∫∞‡∫™‡∫±‡∫ö ‡ªÅ‡∫•‡∫∞ ‡∫ß‡∫±‡∫ô‡∫ó‡∫µ‡∫ó‡∫µ‡ªà‡∫ï‡ªâ‡∫≠‡∫á‡∫Å‡∫≤‡∫ô‡∫Å‡∫ß‡∫î‡∫™‡∫≠‡∫ö:</label>
                        <textarea id="checkData" placeholder="‡ªÉ‡∫™‡ªà‡∫ß‡∫±‡∫ô‡∫ó‡∫µ-‡ªÄ‡∫ß‡∫•‡∫≤ ‡ªÅ‡∫•‡∫∞ ‡ªù‡∫≤‡∫ç‡ªÄ‡∫•‡∫Å‡ªÇ‡∫ó‡∫•‡∫∞‡∫™‡∫±‡∫ö‡∫ó‡∫µ‡ªà‡∫ï‡ªâ‡∫≠‡∫á‡∫Å‡∫≤‡∫ô‡∫Å‡∫ß‡∫î‡∫™‡∫≠‡∫ö..."></textarea>
                    </div>
                </div>
                <button class="analyze-btn" onclick="analyzeData()">üöÄ ‡ªÄ‡∫•‡∫µ‡ªà‡∫°‡∫Å‡∫≤‡∫ô‡∫ß‡∫¥‡ªÄ‡∫Ñ‡∫≤‡∫∞</button>
            </div>

            <div id="results" class="results-section" style="display: none;">
                <div class="results-header">
                    <h2>üìã ‡∫ú‡∫ª‡∫ô‡∫Å‡∫≤‡∫ô‡∫ß‡∫¥‡ªÄ‡∫Ñ‡∫≤‡∫∞</h2>
                    <p>‡∫•‡∫≤‡∫ç‡∫á‡∫≤‡∫ô‡∫Å‡∫≤‡∫ô‡∫™‡∫∞‡ªù‡∫±‡∫Å‡ªÅ‡∫û‡∫±‡∫Å‡ªÄ‡∫Å‡∫±‡∫î‡∫ó‡∫µ‡ªà‡∫û‡∫ª‡∫ö</p>
                </div>
                <div class="table-container">
                    <table id="resultsTable">
                        <thead>
                            <tr>
                                <th>‡∫ß‡∫±‡∫ô‡∫ó‡∫µ‡∫Å‡∫ß‡∫î‡∫™‡∫≠‡∫ö</th>
                                <th>‡ªù‡∫≤‡∫ç‡ªÄ‡∫•‡∫Å‡∫ó‡∫µ‡ªà‡∫ï‡ªâ‡∫≠‡∫á‡∫Å‡∫≤‡∫ô‡∫Å‡∫ß‡∫î‡∫™‡∫≠‡∫ö</th>
                                <th>‡∫à‡∫≥‡∫ô‡∫ß‡∫ô‡∫Ñ‡∫±‡ªâ‡∫á‡∫™‡∫∞‡ªù‡∫±‡∫Å</th>
                                <th>‡∫•‡∫≤‡∫Ñ‡∫≤‡ªÅ‡∫û‡∫±‡∫Å‡ªÄ‡∫Å‡∫±‡∫î</th>
                                <th>‡∫ä‡∫∑‡ªà‡ªÅ‡∫û‡∫±‡∫Å‡ªÄ‡∫Å‡∫±‡∫î</th>
                                <th>‡∫ä‡ªà‡∫≠‡∫á‡∫ó‡∫≤‡∫á</th>
                                <th>‡ªù‡∫≤‡∫ç‡ªÄ‡∫´‡∫î</th>
                            </tr>
                        </thead>
                        <tbody id="resultsBody">
                        </tbody>
                    </table>
                </div>
                <div class="summary" id="summary">
                </div>
            </div>
        </div>
    </div>

    <script>
        // ‡∫ï‡∫ª‡∫ß‡∫¢‡ªà‡∫≤‡∫á‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡ªÄ‡∫ö‡∫∑‡ªâ‡∫≠‡∫á‡∫ï‡∫ª‡ªâ‡∫ô
        const sampleSubscriptionData = `adate		time	kip	pk_name	chanel
20250606	20x15xx922	1	10000	10000/4.5GB/3day	USSD
20250607	20x15xx922	1	10000	10000/4.5GB/3day	USSD
20250609	20x15xx922	1	10000	10000/4.5GB/3day	USSD
20250610	20x15xx922	1	10000	10000/4.5GB/3day	USSD
20250612	20x15xx922	1	10000	10000/4.5GB/3day	USSD
20250608	20x17xx580	1	10000	10000/4.5GB/3day	USSD
20250611	20x17xx580	1	10000	10000/4.5GB/3day	USSD
20250608	20x23xx783	1	15000	15000/IR/1day	USSD
20250606	20x42xx977	1	10000	10000/4.5GB/3day	USSD
20250609	20x42xx977	1	10000	10000/4.5GB/3day	USSD
20250612	20x42xx977	1	5000	5000/1GB/1day	USSD
20250612	20x42xx977	1	10000	10000/4.5GB/3day	USSD
20250606	20x42xx460	1	10000	10000/4.5GB/3day	USSD
20250608	20x42xx460	1	10000	10000/4.5GB/3day	USSD
20250610	20x42xx460	1	10000	10000/4.5GB/3day	USSD
20250607	20x45xx364	1	10000	10000/4.5GB/3day	USSD
20250610	20x45xx364	1	10000	10000/4.5GB/3day	USSD
20250606	20x60xx335	1	10000	10000/4.5GB/3day	USSD
20250606	20x60xx335	1	120000	IR120000/20GB/7day	USSD
20250609	20x60xx335	1	10000	10000/4.5GB/3day	USSD
20250610	20x60xx335	1	10000	10000/4.5GB/3day	USSD
20250612	20x60xx335	1	60000	IR_MLS_60000/20GB/5day	USSD
20250607	20x64xx364	1	5000	5000/1GB/2day_559_code6	USSD
20250608	20x64xx364	1	5000	5000/1GB/2day_559_code6	USSD
20250611	20x64xx364	1	5000	5000/1GB/2day_559_code6	USSD
20250611	20x64xx364	1	5000	5000/1GB/2day_559_code6	USSD
20250606	20x66xx504	1	10000	10000/4.5GB/3day	USSD
20250608	20x66xx504	1	10000	10000/4.5GB/3day	USSD
20250610	20x66xx504	1	10000	10000/4.5GB/3day	USSD
20250607	20x66xx949	1	5000	5000/125MB/1day	USSD
20250607	20x66xx949	1	35000	35000/15GBnonstop/30days	USSD
20250606	20x67xx866	1	10000	10000/4.5GB/3day	USSD
20250609	20x67xx866	1	10000	10000/E-sport/3GB/5day	USSD
20250610	20x67xx866	1	10000	10000/4.5GB/3day	USSD
20250608	20x68xx639	1	10000	10000/4.5GB/3day	USSD
20250611	20x68xx639	1	10000	10000/4.5GB/3day	USSD
20250608	20x69xx751	1	35000	35000/10GB/10Day_freeApp	USSD
20250610	20x70xx310	1	35000	35000/10GB/10Day_freeApp	USSD
20250607	20x70xx657	1	10000	10000/3GB/5day	USSD
20250610	20x70xx657	1	25000	25000_non_stop/10GB/10day	USSD
20250608	20x70xx346	1	10000	10000/4.7GB/6day	USSD
20250611	20x70xx346	1	10000	10000/4.7GB/6day	USSD
20250606	20x71xx959	1	15000	15000/10GB/3day_code291	USSD
20250609	20x71xx959	1	10000	10000/4.5GB/3day	USSD
20250612	20x71xx959	1	10000	10000/3GB/5day	USSD
20250607	20x72xx951	1	15000	15000/IR/1day	USSD
20250611	20x72xx979	1	10000	10000/4.5GB/3day	USSD
20250606	20x75xx657	1	10000	10000/4.7GB/6day	USSD
20250608	20x75xx657	1	10000	10000/4.7GB/6day	USSD
20250608	20x75xx657	1	10000	10000/4.7GB/6day	USSD
20250609	20x75xx657	1	10000	10000/4.7GB/6day	USSD
20250611	20x75xx657	1	10000	10000/4.7GB/6day	USSD
20250612	20x75xx657	1	10000	10000/4.7GB/6day	USSD
20250610	20x77xx223	1	15000	15000/IR/1day	USSD
20250607	20x79xx133	1	10000	10000/4.5GB/3day	USSD
20250609	20x79xx133	1	10000	10000/4.5GB/3day	USSD
20250609	20x79xx133	1	10000	10000/4.5GB/3day	USSD
20250612	20x79xx133	1	10000	10000/4.5GB/3day	USSD
20250609	20x83xx995	1	10000	10000/4.7GB/6day	USSD
20250609	20x83xx995	1	10000	10000/4.7GB/6day	USSD
20250606	20x85xx594	1	10000	10000/3GB/7day_559_code7	USSD
20250607	20x85xx076	1	10000	10000/4.5GB/3day	USSD
20250609	20x85xx076	1	10000	10000/4.5GB/3day	USSD
20250611	20x85xx076	1	10000	10000/4.5GB/3day	USSD
20250606	20x88xx749	1	35000	35000/10GB/10Day_freeApp	USSD
20250609	20x88xx749	1	35000	35000/10GB/10Day_freeApp	USSD
20250612	20x88xx749	1	35000	35000/10GB/10Day_freeApp	USSD
20250610	20x91xx565	1	40000	40000/IR/3day	USSD
20250607	20x95xx373	1	10000	10000/4.5GB/3day	USSD
20250611	20x95xx373	1	10000	10000/4.5GB/3day	USSD`;

        const sampleCheckData = `10/06/2025-17:53	20x28xx021
09/06/2025-10:10	20x55xx277
10/06/2025-16:43	20x86xx445
10/06/2025-11:11	20x91xx565
08/06/2025-07:04	20x23xx783
10/06/2025-06:06	20x46xx539
10/06/2025-21:47	20x55xx710
09/06/2025-18:45	20x56xx936
06/06/2025-14:54	20x58xx558
07/06/2025-11:23	20x58xx507
06/06/2025-13:10	20x60xx335
08/06/2025-00:48	20x64xx364
09/06/2025-05:19	20x72xx979
09/06/2025-14:19	20x74xx742
06/06/2025-17:49	20x85xx594
12/06/2025-14:36	20x85xx076
12/06/2025-12:07	20x95xx373`;

        // ‡ªÉ‡∫™‡ªà‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫ï‡∫ª‡∫ß‡∫¢‡ªà‡∫≤‡∫á‡ªÄ‡∫°‡∫∑‡ªà‡∫≠‡ªÇ‡∫´‡∫º‡∫î‡ªú‡ªâ‡∫≤
        window.onload = function() {
            document.getElementById('subscriptionData').value = sampleSubscriptionData;
            document.getElementById('checkData').value = sampleCheckData;
        };

        function normalizePhoneNumber(phone) {
            // ‡∫•‡∫∂‡∫ö prefix 85620 ‡∫ñ‡ªâ‡∫≤‡∫°‡∫µ
            let normalized = phone.replace(/^85620/, '');
            // ‡ªÅ‡∫ó‡∫ô‡∫ó‡∫µ‡ªà x ‡∫î‡ªâ‡∫ß‡∫ç wildcard pattern
            return normalized.replace(/x/g, '.');
        }

        function phoneMatches(phone1, phone2) {
            const pattern1 = normalizePhoneNumber(phone1);
            const pattern2 = normalizePhoneNumber(phone2);
            
            const regex1 = new RegExp('^' + pattern1 + '$');
            const regex2 = new RegExp('^' + pattern2 + '$');
            
            return regex1.test(pattern2) || regex2.test(pattern1);
        }

        function parseDate(dateStr) {
            // ‡ªÅ‡∫õ‡∫á‡∫à‡∫≤‡∫Å DD/MM/YYYY-HH:MM ‡ªÄ‡∫õ‡∫±‡∫ô YYYYMMDD
            const parts = dateStr.split('-')[0].split('/');
            return '2025' + parts[1].padStart(2, '0') + parts[0].padStart(2, '0');
        }

        function formatDate(dateStr) {
            // ‡ªÅ‡∫õ‡∫á‡∫à‡∫≤‡∫Å YYYYMMDD ‡ªÄ‡∫õ‡∫±‡∫ô DD/MM/YYYY
            const year = dateStr.substring(0, 4);
            const month = dateStr.substring(4, 6);
            const day = dateStr.substring(6, 8);
            return `${day}/${month}/${year}`;
        }

        function analyzeData() {
            const subscriptionData = document.getElementById('subscriptionData').value;
            const checkData = document.getElementById('checkData').value;

            if (!subscriptionData.trim() || !checkData.trim()) {
                alert('‡∫Å‡∫∞‡∫•‡∫∏‡∫ô‡∫≤‡ªÉ‡∫™‡ªà‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫ó‡∫±‡∫á‡∫™‡∫≠‡∫á‡∫ä‡ªà‡∫≠‡∫á');
                return;
            }

            // Parse subscription data
            const subscriptions = [];
            const subscriptionLines = subscriptionData.trim().split('\n').slice(1); // Skip header
            
            subscriptionLines.forEach(line => {
                const parts = line.trim().split('\t');
                if (parts.length >= 5) {
                    subscriptions.push({
                        date: parts[0],
                        phone: parts[1],
                        count: parts[2],
                        price: parts[3],
                        package: parts[4],
                        channel: parts[5] || 'USSD'
                    });
                }
            });

            // Parse check data
            const checksToPerform = [];
            const checkLines = checkData.trim().split('\n');
            
            checkLines.forEach(line => {
                const parts = line.trim().split('\t');
                if (parts.length >= 2) {
                    checksToPerform.push({
                        datetime: parts[0],
                        phone: parts[1],
                        date: parseDate(parts[0])
                    });
                }
            });

            // Perform analysis
            const results = [];
            let foundCount = 0;
            let notFoundCount = 0;
            let otherDateCount = 0;

            checksToPerform.forEach(check => {
                // ‡∫ä‡∫±‡∫≠‡∫Å‡∫´‡∫≤‡∫Å‡∫≤‡∫ô‡∫™‡∫∞‡ªù‡∫±‡∫Å‡ªÉ‡∫ô‡∫ß‡∫±‡∫ô‡∫ó‡∫µ‡∫ó‡∫µ‡ªà‡∫Å‡∫≥‡∫ô‡∫ª‡∫î
                const exactMatches = subscriptions.filter(sub => 
                    sub.date === check.date && phoneMatches(sub.phone, check.phone)
                );

                if (exactMatches.length > 0) {
                    // ‡∫û‡∫ª‡∫ö‡∫Å‡∫≤‡∫ô‡∫™‡∫∞‡ªù‡∫±‡∫Å‡ªÉ‡∫ô‡∫ß‡∫±‡∫ô‡∫ó‡∫µ‡∫ó‡∫µ‡ªà‡∫Å‡∫ß‡∫î‡∫™‡∫≠‡∫ö
                    exactMatches.forEach(match => {
                        results.push({
                            checkDate: formatDate(check.date),
                            checkPhone: check.phone,
                            count: match.count,
                            price: match.price,
                            package: match.package,
                            channel: match.channel,
                            status: '‡∫û‡∫ª‡∫ö',
                            statusClass: 'found'
                        });
                    });
                    foundCount++;
                } else {
                    // ‡∫ä‡∫≠‡∫Å‡∫´‡∫≤‡∫Å‡∫≤‡∫ô‡∫™‡∫∞‡ªù‡∫±‡∫Å‡ªÉ‡∫ô‡∫ß‡∫±‡∫ô‡∫ó‡∫µ‡∫≠‡∫∑‡ªà‡∫ô
                    const otherMatches = subscriptions.filter(sub => 
                        phoneMatches(sub.phone, check.phone)
                    );

                    if (otherMatches.length > 0) {
                        // ‡∫û‡∫ª‡∫ö‡∫Å‡∫≤‡∫ô‡∫™‡∫∞‡ªù‡∫±‡∫Å‡ªÉ‡∫ô‡∫ß‡∫±‡∫ô‡∫ó‡∫µ‡∫≠‡∫∑‡ªà‡∫ô
                        otherMatches.forEach(match => {
                            results.push({
                                checkDate: formatDate(check.date),
                                checkPhone: check.phone,
                                count: match.count,
                                price: match.price,
                                package: match.package,
                                channel: match.channel,
                                status: '‡∫û‡∫ª‡∫ö‡ªÉ‡∫ô‡∫ß‡∫±‡∫ô‡∫ó‡∫µ‡∫≠‡∫∑‡ªà‡∫ô (' + formatDate(match.date) + ')',
                                statusClass: 'found-other-date'
                            });
                        });
                        otherDateCount++;
                    } else {
                        // ‡∫ö‡ªç‡ªà‡∫û‡∫ª‡∫ö‡∫Å‡∫≤‡∫ô‡∫™‡∫∞‡ªù‡∫±‡∫Å‡ªÄ‡∫•‡∫µ‡∫ç
                        results.push({
                            checkDate: formatDate(check.date),
                            checkPhone: check.phone,
                            count: '-',
                            price: '-',
                            package: '-',
                            channel: '-',
                            status: '‡∫ö‡ªç‡ªà‡∫û‡∫ª‡∫ö',
                            statusClass: 'not-found'
                        });
                        notFoundCount++;
                    }
                }
            });

            displayResults(results, foundCount, notFoundCount, otherDateCount, checksToPerform.length);
        }

        function displayResults(results, foundCount, notFoundCount, otherDateCount, totalChecks) {
            const resultsSection = document.getElementById('results');
            const resultsBody = document.getElementById('resultsBody');
            const summary = document.getElementById('summary');

            // Clear previous results
            resultsBody.innerHTML = '';

            // Add results to table
            results.forEach(result => {
                const row = document.createElement('tr');
                row.className = result.statusClass;
                
                row.innerHTML = `
                    <td>${result.checkDate}</td>
                    <td>${result.checkPhone}</td>
                    <td>${result.count}</td>
                    <td>${result.price}</td>
                    <td>${result.package}</td>
                    <td>${result.channel}</td>
                    <td><span class="status-badge badge-${result.statusClass.replace('-', '-')}">${result.status}</span></td>
                `;
                
                resultsBody.appendChild(row);
            });

            // Create summary
            summary.innerHTML = `
                <h3 style="margin-bottom: 15px; color: #495057;">üìä ‡∫™‡∫∞‡∫´‡∫º‡´Å‡∫ö‡∫ú‡∫ª‡∫ô‡∫Å‡∫≤‡∫ô‡∫ß‡∫¥‡ªÄ‡∫Ñ‡∫≤‡∫∞</h3>
                <div class="summary-stats">
                    <div class="stat-card">
                        <div class="stat-number">${totalChecks}</div>
                        <div class="stat-label">‡∫ó‡∫±‡∫á‡ªù‡∫ª‡∫î‡∫ó‡∫µ‡ªà‡∫Å‡∫ß‡∫î‡∫™‡∫≠‡∫ö</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" style="color: #28a745;">${foundCount}</div>
                        <div class="stat-label">‡∫û‡∫ª‡∫ö‡ªÉ‡∫ô‡∫ß‡∫±‡∫ô‡∫ó‡∫µ‡∫Å‡∫≥‡∫ô‡∫ª‡∫î</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" style="color: #ffc107;">${otherDateCount}</div>
                        <div class="stat-label">‡∫û‡∫ª‡∫ö‡ªÉ‡∫ô‡∫ß‡∫±‡∫ô‡∫ó‡∫µ‡∫≠‡∫∑‡ªà‡∫ô</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" style="color: #dc3545;">${notFoundCount}</div>
                        <div class="stat-label">‡∫ö‡ªç‡ªà‡∫û‡∫ª‡∫ö‡ªÄ‡∫•‡∫µ‡∫ç</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">${results.length}</div>
                        <div class="stat-label">‡∫•‡∫≤‡∫ç‡∫Å‡∫≤‡∫ô‡∫ó‡∫±‡∫á‡ªù‡∫ª‡∫î</div>
                    </div>
                </div>
            `;

            resultsSection.style.display = 'block';
            resultsSection.scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>
